#!/usr/bin/env ruby

require 'bundler/setup'
require 'arium'

creator = Arium::Creators::Village.with_config(
  rows: 50,
  columns: 200,
)

evolvers = [
  Arium::Evolvers::Water.new,
  Arium::Evolvers::Village.new,
]

world = Arium::World.with_config(
  creator: creator,
  evolvers: evolvers,
  generation_locator: proc { |number| "demo_generations/#{number}" },
)

renderer = Arium::Renderers::Terminal.new

generations = 20

FileUtils.mkdir_p('demo_generations')

generations.times do |i|
  renderer.render(world.generation(i))
end
